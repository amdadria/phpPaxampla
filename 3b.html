<!-- Adrià  Mondéjar Daza-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
  <body>
    <script type="text/javascript">

    //constructores
    function Fabricant (inom, icomercial, iciutat, itelf)
    {
      this.nom=inom;
      this.comercial=icomercial;
      this.ciutat= iciutat;
      this.telf=itelf;
      this.telfEmerg= 112;
      this.classNamepro = function () {return this.nom};
    }
    function Distribuidor (inom,iciutat,itelf,ifabricant)
    {
      this.nom = inom;
      this.ciutat=iciutat;
      this.telf=itelf;
      this.fabricant=ifabricant;
      this.classNamepro = function () {return this.nom};
    }
    function Equip (inom, imodel, ifabricant, idistribuidor, ipotencia)
    { 
      this.nom = inom;
      this.model = imodel;
      this.fabricant = ifabricant;
      this.distribuidor = idistribuidor;
      this.potencia = ipotencia;
      this.classNamepro = function () {return this.nom};
    } 
    //Fabricants:
    var fagor=new Fabricant('Fagor','ComercialF', 'Sant Sebastia', '902105011')
    var zanussi=new Fabricant('Zanussi','ComercialZ', 'Saragossa', '902105111')
    var balay=new Fabricant('Balay','ComercialB','Sevilla','902105211')
    //Distribuïdors:
    var distr1=new Distribuidor('Distrib1','Barcelona','931234567', fagor)
    var distr2=new Distribuidor('Distrib2','Barcelona','931234568', fagor)
    var distr3=new Distribuidor('Distrib3', 'Girona', '972123456',zanussi)
    //Equip:
    var equip1=new Equip('rentadora', 'A24', fagor, distr1, 45)
    var equip2=new Equip('planxa', 'E4',balay , distr1, 50)
    var equip3=new Equip('aspiradora', 'B48', zanussi, distr1, 30)
    var equip4=new Equip('batedora', 'Z10', fagor, distr1, 5)

    function dObj() {
    for (var prop in this) {
            if(typeof this[prop] == "number" || typeof this[prop] == "string" ) {
                document.write(" <b>",prop, "</b>: ", this[prop], " " , "(",typeof this[prop],")");
            }else if(typeof this[prop] == "function") {

            } else {
                document.write(" <b>",prop, "</b>: ", this[prop].classNamepro(), " " , "(",typeof this[prop],")");
            }
            document.write("<br>");
        }
    }

    function sortAlf(){
        function compare(a,b){
          if (a.nom < b.nom)
            return -1
          if (a.nom > b.nom) 
            return 1
          return 0
        }
      this.sort(compare)
    }
    function sortNum(){
        function compare(a,b){
          if (a.potencia < b.potencia)
            return -1
          if (a.potencia > b.potencia) 
            return 1
          return 0
        }
      this.sort(compare)
    }

    function sortCamp(camp){
        function compare(a,b){
          if (a[camp] < b[camp])
            return -1
          if (a[camp] > b[camp]) 
            return 1
          return 0
        }
      this.sort(compare)  
    }

    function  dProp(camp){
      document.write("Nombre del campo: "+camp+" Valor del Campo:"+this[camp])
    }
    var  arrEquips= [equip1,equip2,equip3,equip4]
    //dObj(arrEquips)

    arrEquips.mostrarTodo=dObj

    
     arrEquips.sortAlf=sortAlf
     arrEquips.sortNum=sortNum
     arrEquips.sortCamp=sortCamp


     arrEquips.sortNum()
     document.write("numerico:")
     arrEquips.mostrarTodo()

     arrEquips.sortAlf()
     document.write("alfabetico:")
     arrEquips.mostrarTodo()
     arrEquips.sortCamp('nom')
     document.write("por campo:")
     arrEquips.mostrarTodo()

     equip2.temperaturaMax=100

     Equip.prototype.dataCompra="no especificada"
     document.write(equip2.dataCompra)
     document.write("<br>");
     equip2.dataCompra=new Date()
     document.write(equip2.dataCompra.toLocaleString())
     delete equip2.temperaturaMax
     document.write("<br>");
     document.write(equip2.temperaturaMax)
     delete equip2.dataCompra
     document.write("<br>");
     document.write(equip2.dataCompra)
     delete Equip.prototype.dataCompra
     document.write("<br>");
     document.write(equip2.dataCompra)

      Equip.prototype.dProp=dProp
      document.write("<br>");
      equip2.dProp("nom")

    </script>
  </body>
</html>