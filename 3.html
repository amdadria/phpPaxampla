<!-- Adrià  Mondéjar Daza-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
  <body>
    <script type="text/javascript">

    //constructores
    function Fabricant (inom, icomercial, iciutat, itelf)
    {
      this.nom=inom;
      this.comercial=icomercial;
      this.ciutat= iciutat;
      this.telf=itelf;
      this.telfEmerg= 112;
    }
    function Distribuidor (inom,iciutat,itelf,ifabricant)
    {
      this.nom = inom;
      this.ciutat=iciutat;
      this.telf=itelf;
      this.fabricant=ifabricant;
    }
    function Equip (inom, imodel, ifabricant, idistribuidor, ipotencia)
    { 
      this.nom = inom;
      this.model = imodel;
      this.fabricant = ifabricant;
      this.distribuidor = idistribuidor;
      this.potencia = ipotencia;
    } 
    //Fabricants:
    var fagor=new Fabricant('Fagor','ComercialF', 'Sant Sebastia', '902105011')
    var zanussi=new Fabricant('Zanussi','ComercialZ', 'Saragossa', '902105111')
    var balay=new Fabricant('Balay','ComercialB','Sevilla','902105211')
    //Distribuïdors:
    var distr1=new Distribuidor('Distrib1','Barcelona','931234567', fagor)
    var distr2=new Distribuidor('Distrib2','Barcelona','931234568', fagor)
    var distr3=new Distribuidor('Distrib3', 'Girona', '972123456',zanussi)
    //Equip:
    var equip1=new Equip('rentadora', 'A24', fagor, distr1, 45)
    var equip2=new Equip('planxa', 'E4',balay , distr1, 50)
    var equip3=new Equip('aspiradora', 'B48', zanussi, distr1, 30)
    var equip4=new Equip('batedora', 'Z10', fagor, distr1, 5)

    function dObj(objecte){
      for (var prop in objecte){
        document.write(" ",prop, " ", objecte[prop]," (",typeof(prop),")")
      }
    }

    //cambiar distribuidor distr1
    distr1.fabricant=zanussi
   // document.write(distr1.fabricant.nom)

   //cambiar comercial zanussi
   // distr1.fabricant=zanussi
   //zanussi.comercial="Comercial_nou"
   //document.write(distr1.fabricant.comercial)

   //punto vii, para que no se modifique el distr3 al querer modificar distr3b tenemos que inicializarlo como nueva variable
   /*var  distr3b=new Distribuidor("Pocoyo",distr3.ciutat,distr3.telf,balay)
   document.write(distr3b.nom,"          ", distr3b.fabricant.nom)
   document.write("<br/>")
   document.write(distr3.nom,"          ", distr3.fabricant.nom)*/

   //haciendo esto fagor pasa a tener los datos como zanussi
   fagor = zanussi
   document.write(fagor.nom)
   document.write("<br/>")
   //los distribuidores que repartian fagor si miro el nombre sigue siendo fagor
   document.write(distr2.nom,"          ", distr2.fabricant.nom)
   //al hacer fagor=zanussi se guarda una referencia con nombre fagor de zanussi pero los datos siguen estando en su posición

  /*  document.write("<br/>")
    document.write("Telefono Fabricante Lavadora: "+equip1.fabricant.telf)
    document.write("<br/>")
    document.write("Telefono Distribuidor Lavadora: "+equip1["distribuidor"]["telf"])*/
    </script>
  </body>
</html>